{"version":3,"file":"static/js/959.08d7a3f0.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/Reviews/Rewiews.module.css?099a","components/Reviews/Reviews.jsx","components/services/fetchMovies.js","components/services/status.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Rewiews_container__C5mZB\",\"list\":\"Rewiews_list__QCu85\",\"text\":\"Rewiews_text__3FipO\"};","import { useParams } from 'react-router-dom';\nimport { STATUS } from '../services/status';\nimport { useEffect, useState } from \"react\";\nimport { fetchMovieRewiews } from 'components/services/fetchMovies';\nimport Loader from 'components/Loader/Loader';\nimport css from './Rewiews.module.css';\nimport PropTypes from 'prop-types';\n\nconst Reviews = () => {\n    const [results, setReviews] = useState([]);\n    const [status, setStatus] = useState(STATUS.IDLE);\n    const { movieId } = useParams();\n\n    useEffect(() => {\n        setStatus(STATUS.PENDING);\n        async function getMovieReviews() {\n            try {\n                const res = await fetchMovieRewiews(movieId);\n                setReviews(res.results);\n                setStatus(STATUS.RESOLVED);\n            } catch (err) {\n                setStatus(STATUS.REJECTED);\n            }\n        }\n        getMovieReviews();\n    }, [movieId]);\n\n    if (status === STATUS.PENDING) {\n        return (<Loader />)\n    } else if (status === STATUS.RESOLVED) {\n        return (<div className={css.container}>\n            <h2>Rewiews</h2>\n            {results.length > 0 ? (\n                <ul className={css.list}>\n                {results?.map(({ id, author, content }) => (<li key={id}>\n                {author && <h3>Author: {author}</h3>}\n                {content && <p className={css.text}> {content}</p>}\n                </li>))}\n                </ul>) : <p>no rewiews list</p>\n            }\n        </div>);\n    } else if (status === STATUS.REJECTED) {\n        return (<p>Something went wrong</p>)\n    };\n};\n\nReviews.propTypes = {\n    author: PropTypes.string,\n    content: PropTypes.string,\n}\n\nexport default Reviews;\n\n","import axios from \"axios\";\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'c89dcf9a7de9ef86355d610380679a74';\nconst TRENDS = '/trending/movie/week';\nconst SEARCH = '/search/movie';\nconst MOVIE = '/movie/';\nconst CAST = '/credits';\nconst REWIEWS = '/reviews';\n\n\n// https://api.themoviedb.org/3/trending/movie/week?language=en-US&api_key=c89dcf9a7de9ef86355d610380679a74\nexport async function fetchTrendingMovies(page = 1) {\n    const params = new URLSearchParams({\n        language: 'en-US',\n        page: page,\n        api_key: API_KEY,\n    });\n    const { data } = await axios.get(`${BASE_URL}${TRENDS}?${params}`);\n    return data;\n};\n\n// https://api.themoviedb.org/3/search/movie?query=memo&include_adult=true&language=en-US&page=1&api_key=c89dcf9a7de9ef86355d610380679a74\nexport async function fetchSearchMovie(searchText, page = 1) {\n    const params = new URLSearchParams({\n        query: searchText,\n        language: 'en-US',\n        page: page,\n        api_key: API_KEY,\n    });\n    const { data } = await axios.get(`${BASE_URL}${SEARCH}?${params}`);\n    return data;\n};\n\n// https://api.themoviedb.org/3/movie/113072?append_to_response=movies&language=en-US&api_key=c89dcf9a7de9ef86355d610380679a74\nexport async function fetchMovie(id) {\n    const params = new URLSearchParams({\n        append_to_response: 'movies',\n        language: 'en-US',\n        api_key: API_KEY,\n    });\n    const { data } = await axios.get(`${BASE_URL}${MOVIE}${id}?${params}`);\n    return data;\n};\n\n// https://api.themoviedb.org/3/movie/113072/credits?language=en-US&api_key=c89dcf9a7de9ef86355d610380679a74\nexport async function fetchMovieCast(id) {\n    const params = new URLSearchParams({\n        language: 'en-US',\n        api_key: API_KEY,\n    });\n    const { data } = await axios.get(`${BASE_URL}${MOVIE}${id}${CAST}?${params}`);\n    return data;\n};\n\n// https://api.themoviedb.org/3/movie/484089/reviews?language=en-US&page=1&api_key=c89dcf9a7de9ef86355d610380679a74\n\nexport async function fetchMovieRewiews(id, page = 1) {\n    const params = new URLSearchParams({\n        language: 'en-US',\n        page: page,\n        api_key: API_KEY,\n    });\n    const { data } = await axios.get(`${BASE_URL}${MOVIE}${id}${REWIEWS}?${params}`);\n    return data;\n};\n","export const STATUS = {\n    IDLE: \"idle\",\n    PENDING: \"pending\",\n    REJECTED: \"rejected\",\n    RESOLVED: \"resolved\",\n};"],"names":["useState","results","setReviews","STATUS","status","setStatus","movieId","useParams","useEffect","fetchMovieRewiews","res","getMovieReviews","Loader","className","css","length","map","id","author","content","BASE_URL","API_KEY","TRENDS","SEARCH","MOVIE","CAST","REWIEWS","fetchTrendingMovies","page","params","URLSearchParams","language","api_key","axios","data","fetchSearchMovie","searchText","query","fetchMovie","append_to_response","fetchMovieCast","IDLE","PENDING","REJECTED","RESOLVED"],"sourceRoot":""}